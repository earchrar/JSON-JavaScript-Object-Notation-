<!DOCTYPE html>
<html>
    <head>
        <title>Async and Await</title>

        <!-- Font Awesome  -->
        <!-- <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css" rel="stylesheet" integrity="sha512-2SwdPD6INVrV/lHTZbO2nodKhrnDdJK9/kg2XD1r9uGqPo1cUbujc+IYdlYdEErWNu69gVcYgdxlmVmzTWnetw==" crossorigin="anonymous" referrerpolicy="no-referrer" /> -->

        <!-- Bootstrap css1 js1  -->
        <!-- <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous"> -->

    </head>
    <body>

        

        <!-- Bootstrap css1 js1  -->
        <!-- <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script> -->

        <!-- jQuery js1  -->
        <!-- <script src="./libs/jquery-3.7.1.min.js" type="text/javascript"></script> -->

        <script src="https://unpkg.com/axios/dist/axios.min.js"></script>

        <script type="text/javascript">
        
            const url = `https://randomuser.me/api/`;

            fetch(url)
                .then(response=>response.json())
                .then((data)=>{
                // console.log(data);
            }).catch(err=>console.log(err));

            // => Asynchornous ( aysnc & await )

            async function getusers(){

                await  fetch(url)
                            .then(response=>response.json())
                            .then((data)=>{
                            console.log(data);
                        }).catch(err=>console.log(err));
            }

            getusers();
            console.log("hi");

            async function getmembers(){
                
                // await response for the fetch call ( step 1 = request )
                const response = await fetch(url);

                // proceed if resolved ( step 2 = Promise )
                const data = await response.json();

                return data;
            }

            // ( step 3 = Get Response ) 
            getmembers().then(response=>console.log(response)).catch(err=>console.log(err));
        


        </script>
        
    </body>
</html>







